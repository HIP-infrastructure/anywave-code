FROM anywave/aw-ubuntu:latest

RUN useradd -ms /bin/bash anywave
USER anywave
WORKDIR /home/anywave

COPY ./armadillo /home/anywave/armadillo
COPY ./include /home/anywave/include
COPY ./resources /home/anywave/resources
COPY ./src /home/anywave/src
COPY ./cmake /home/anywave/cmake
COPY CMakeLists.txt /home/anywave
 
RUN mkdir /home/anywave/build
WORKDIR /home/anywave/build
RUN cd /home/anywave/build && cmake -DCMAKE_INSTALL_PREFIX=/usr/local .. && make install
